<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>è§„èŒƒä¸­çš„éšå¼è½¬æ¢ - knowledge-system</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">knowledge-system</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="è§„èŒƒä¸­çš„éšå¼è½¬æ¢"><a class="header" href="#è§„èŒƒä¸­çš„éšå¼è½¬æ¢">è§„èŒƒä¸­çš„éšå¼è½¬æ¢</a></h1>
<h2 id="æ™®é€šè¿ç®—ç¬¦"><a class="header" href="#æ™®é€šè¿ç®—ç¬¦">æ™®é€šè¿ç®—ç¬¦</a></h2>
<p><a href="https://tc39.es/ecma262/#sec-ecmascript-language-expressions">é“¾æ¥</a></p>
<p>ä» ES æ ‡å‡†ä¸­å¯ä»¥å‘ç°ä»¥ä¸‹å‡ ç§è¿ç®—ç¬¦åšè¿ç®—çš„æ—¶å€™ï¼Œéƒ½è°ƒç”¨äº†ç›¸åŒçš„æŠ½è±¡æ“ä½œï¼š</p>
<ol>
<li>Exponentiation Operator æŒ‡æ•°è¿ç®—ï¼Œå¹‚è¿ç®—ï¼Œä¾‹å¦‚ï¼š a ** 2</li>
<li>Multiplicative Operators ä¹˜æ³•è¿ç®—ï¼Œä¾‹å¦‚ï¼ša * 2; a / 2; a % 2ï¼ˆä¹˜æ³•ï¼Œé™¤æ³•ï¼Œå–ä½™ï¼‰</li>
<li>Additive Operators åŠ æ³•è¿ç®—ï¼Œä¾‹å¦‚ a + b; a - bï¼ˆåŠ æ³•ï¼Œå‡æ³•ï¼‰</li>
<li>The Left Shift Operator; The Signed Right Shift Operator;  The Unsigned Right Shift Operator å·¦ç§»ï¼Œå³ç§»ï¼Œæ— ç¬¦å·å³ç§»ï¼Œä¾‹å¦‚ï¼š a &lt;&lt; 2, a &gt;&gt; 2, a &gt;&gt;&gt; 2</li>
<li>Binary Bitwise Operators äºŒè¿›åˆ¶ä½è¿ç®—ç¬¦ï¼Œä¾‹å¦‚ a &amp; 1, a | 1, a ^ 1 ï¼ˆæŒ‰ä½ä¸ï¼ŒæŒ‰ä½æˆ–ï¼ŒæŒ‰ä½å¼‚æˆ–ï¼‰</li>
</ol>
<p>ä»¥ä¸Šè¿™äº›è¿ç®—ç¬¦ï¼ˆæœ€å¸¸ç”¨çš„å°±æ˜¯åŠ å‡ä¹˜é™¤ï¼‰éƒ½è°ƒç”¨äº† ES å†…éƒ¨çš„æŠ½è±¡æ“ä½œï¼š<code>EvaluateStringOrNumericBinaryExpression ( leftOperand, opText, rightOperand )</code>ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ EvaluateStringOrNumericBinaryExpression çš„æ­¥éª¤ï¼š</p>
<pre><code class="language-js">1. Let lref be the result of evaluating leftOperand.
2. Let lval be ? GetValue(lref).
3. Let rref be the result of evaluating rightOperand.
4. Let rval be ? GetValue(rref).
5. Return ? ApplyStringOrNumericBinaryOperator(lval, opText, rval).
</code></pre>
<p>è·å–åˆ°å·¦æ“ä½œæ•°çš„å€¼å’Œå³æ“ä½œæ•°çš„å€¼åï¼Œåˆè°ƒç”¨äº†æŠ½è±¡æ“ä½œ <code>ApplyStringOrNumericBinaryOperator(lval, opText, rval)</code></p>
<pre><code class="language-js">// ApplyStringOrNumericBinaryOperator(lval, opText, rval)

1. Assert: opText is present in the table in step 8.
2. If opText is +, then
  a. Let lprim be ? ToPrimitive(lval).
  b. Let rprim be ? ToPrimitive(rval).
  c. If Type(lprim) is String or Type(rprim) is String, then
    i. Let lstr be ? ToString(lprim).
    ii. Let rstr be ? ToString(rprim).
    iii. Return the string-concatenation of lstr and rstr.
  d. Set lval to lprim.
  e. Set rval to rprim.
3. NOTE: At this point, it must be a numeric operation.
4. Let lnum be ? ToNumeric(lval).
5. Let rnum be ? ToNumeric(rval).
6. If Type(lnum) is different from Type(rnum), throw a TypeError exception.
7. Let T be Type(lnum).
8. Let operation be the abstract operation associated with opText in the following table:
  opText	operation
  **	T::exponentiate
  *	T::multiply
  /	T::divide
  %	T::remainder
  +	T::add
  -	T::subtract
  &lt;&lt;	T::leftShift
  &gt;&gt;	T::signedRightShift
  &gt;&gt;&gt;	T::unsignedRightShift
  &amp;	T::bitwiseAND
  ^	T::bitwiseXOR
  |	T::bitwiseOR
9. Return ? operation(lnum, rnum).
</code></pre>
<p>åŠ å·çš„è¿ç®—æ˜¯ä¼˜å…ˆè¦åˆ¤æ–­å¤„ç†çš„ï¼Œå®ƒå’Œå…¶ä»–è¿ç®—ç¬¦ä¸ä¸€æ ·ã€‚</p>
<pre><code class="language-js">2. å¦‚æœè¿ç®—ç¬¦æ˜¯ + ï¼Œåˆ™
  a. è®¡ç®— lprim ä¸º ToPrimitive(lval)
  b. è®¡ç®— rprim ä¸º ToPrimitive(rval)
  c. å¦‚æœ lprim æˆ– rprim çš„ç±»å‹æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™
    i. å°† lprim è½¬æ¢ä¸ºå­—ç¬¦ä¸² lstr
    ii. å°† rprim è½¬æ¢ä¸ºå­—ç¬¦ä¸² rstr
    iii. è¿”å› lstr å’Œ rstr çš„å­—ç¬¦ä¸²æ‹¼æ¥ç»“æœ
  d. å°† lval è®¾ç½®ä¸º lprim
  e. å°† rval è®¾ç½®ä¸º rprim
3. è¿™ä¹‹åå¿…é¡»æ˜¯æ•°å€¼çš„æ“ä½œäº†ï¼ˆä¹Ÿå°±æ˜¯è¯´ä¸¤ä¸ªæ“ä½œæ•°éƒ½å¿…é¡»è½¬æˆæ•°å­—ç±»å‹äº†ï¼‰
</code></pre>
<p>ToPrimitive æ“ä½œå…¶å®å°±æ˜¯å°†éåŸå§‹ç±»å‹çš„å€¼ï¼ˆæ¯”å¦‚å¯¹è±¡å’Œæ•°ç»„ï¼‰è½¬æ¢æˆåŸå§‹ç±»å‹ï¼ˆæ¯”å¦‚å­—ç¬¦ä¸²å’Œæ•°å­—ï¼‰ã€‚</p>
<pre><code class="language-js">// ToPrimitive ( input [ , preferredType ] )

1. Assert: input is an ECMAScript language value.
2. If Type(input) is Object, then
  a. Let exoticToPrim be ? GetMethod(input, @@toPrimitive).
  b. If exoticToPrim is not undefined, then
    i. If preferredType is not present, let hint be "default".
    ii. Else if preferredType is string, let hint be "string".
    iii. Else,
      1. Assert: preferredType is number.
      2. Let hint be "number".
    iv. Let result be ? Call(exoticToPrim, input, Â« hint Â»).
    v. If Type(result) is not Object, return result.
    vi. Throw a TypeError exception.
  c. If preferredType is not present, let preferredType be number.
  d. Return ? OrdinaryToPrimitive(input, preferredType).
3. Return input.

2. å¦‚æœè¾“å…¥å€¼çš„ç±»å‹æ˜¯ Objectï¼Œåˆ™
  a. è®© exoticToPrim ç­‰äº GetMethod(input, @@toPrimitive) ï¼ˆè·å–è¿™ä¸ªç±»å‹å¯¹åº”çš„ toPrimitive æ–¹æ³•ï¼‰
  b. å¦‚æœ exoticToPrim å­˜åœ¨ï¼Œåˆ™
    i. å¦‚æœ preferredType ï¼ˆæœŸæœ›ç±»å‹ï¼‰ä¸å­˜åœ¨ï¼Œåˆ™ hint è®¾ç½®ä¸º 'default'
    ii. å¦‚æœ preferredType ï¼ˆæœŸæœ›ç±»å‹ï¼‰ æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™ hint è®¾ç½®ä¸º 'string'
    iii. å…¶ä»–æƒ…å†µï¼š
      1. preferredType ä¸ºæ•°å­—
      2. hint è®¾ç½®ä¸º 'number'
    iv. è®© result ç­‰äº exoticToPrim è°ƒç”¨ç»“æœ Call(exoticToPrim, input, Â« hint Â»)
    v. å¦‚æœ result çš„ç±»å‹ä¸æ˜¯ Objectï¼Œè¿”å› result
    vi. æŠ›å‡º TypeError ç±»å‹é”™è¯¯
  c. å¦‚æœ preferredType ä¸å­˜åœ¨ï¼Œè®© preferredType æ˜¯æ•°å­—ç±»å‹
  d. è¿”å› OrdinaryToPrimitive(input, preferredType) çš„ç»“æœ
3. è¿”å›è¾“å…¥å€¼ input
</code></pre>
<p>æ³¨æ„ï¼šå¦‚æœ ToPrimitive è°ƒç”¨æ—¶æ²¡æœ‰ hintï¼Œåˆ™é€šå¸¸å®ƒå°±ä¼šè®¤ä¸º hint æ˜¯æ•°å­—ç±»å‹ numberã€‚é»˜è®¤æƒ…å†µä¸‹åŸå§‹ç±»å‹ä¸­åªæœ‰ Date å’Œ Symbol è¿™ä¸¤ä¸ªç±»å‹å®šä¹‰äº† Symbol.toPrimitive å±æ€§ï¼Œå…¶ä»–ç±»å‹éƒ½æ²¡æœ‰è¿™ä¸ªå±æ€§ï¼Œæ‰€ä»¥ GetMethod(input, @@toPrimitive) ä¼šè¿”å› undefinedï¼Œå› æ­¤æ•°ç»„å’Œå¯¹è±¡çš„ Symbol.toPrimitive æ²¡æœ‰å®šä¹‰çš„æ—¶å€™ä¼šèµ° OrdinaryToPrimitive é€»è¾‘ã€‚</p>
<p><code>OrdinaryToPrimitive ( O, hint ) </code>çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js">// OrdinaryToPrimitive ( O, hint )

1. Assert: Type(O) is Object.
2. Assert: hint is either string or number.
3. If hint is string, then
  a. Let methodNames be Â« "toString", "valueOf" Â».
4. Else,
  a. Let methodNames be Â« "valueOf", "toString" Â».
5. For each element name of methodNames, do
  a. Let method be ? Get(O, name).
  b. If IsCallable(method) is true, then
    i. Let result be ? Call(method, O).
    ii. If Type(result) is not Object, return result.
6. Throw a TypeError exception.

1. O çš„ç±»å‹æ˜¯å¯¹è±¡ç±»å‹
2. hint æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—
3. å¦‚æœ hint æ˜¯å­—ç¬¦ä¸²
  a. è®© methodNames ä¸º Â« "toString", "valueOf" Â»
4. å¦åˆ™
  a. è®© methodNames ä¸º Â« "valueOf", "toString" Â»
5. å¾ªç¯ methodNames çš„å¾—åˆ°æ¯ä¸€é¡¹ä¸º name
  a. è®© method ç­‰äº Get(O, name)
  b. å¦‚æœ method æ˜¯å¯è¢«è°ƒç”¨çš„ï¼Œåˆ™
    i. è®© result ç­‰äº Call(method, O)
    ii. å¦‚æœ result ä¸æ˜¯å¯¹è±¡ç±»å‹ï¼Œè¿”å› result
6. æŠ›å‡º TypeError é”™è¯¯
</code></pre>
<p>ä¹‹å‰çš„ ApplyStringOrNumericBinaryOperator ä¸­å¦‚æœå·¦æ“ä½œæ•°å’Œå³æ“ä½œæ•°è°ƒç”¨ toPrimitive è¿”å›çš„åŸå§‹ç±»å‹éƒ½ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™ç»§ç»­åç»­æµç¨‹ï¼Œä¼šè°ƒç”¨ ToNumeric å°†å®ƒä»¬éƒ½è½¬æ¢æˆæ•°å­—ç±»å‹ã€‚</p>
<pre><code class="language-js">// ToNumeric ( value )

1. Let primValue be ? ToPrimitive(value, number).
2. If Type(primValue) is BigInt, return primValue.
3. Return ? ToNumber(primValue).

1. è®© primValue ç­‰äºè°ƒç”¨ ToPrimitive å°† value è½¬æ¢æˆçš„åŸå§‹ç±»å‹ç»“æœï¼ŒpreferredType æœŸæœ›ç±»å‹æ˜¯ number
2. å¦‚æœ primValue æ˜¯ BigInt ç±»å‹ï¼Œç›´æ¥è¿”å›
3. è¿”å› ToNumber(primValue)
</code></pre>
<p>å¯ä»¥çœ‹åˆ° ToNumeric å…ˆè°ƒç”¨äº† ToPrimitive å¹¶ä¸”æœŸæœ›å€¼æ˜¯ numberï¼Œç„¶åæœ€åè°ƒç”¨äº† ToNumberã€‚ToNumber çš„è½¬æ¢è§„åˆ™å¦‚ä¸‹è¡¨</p>
<div class="table-wrapper"><table><thead><tr><th>å‚æ•°ç±»å‹</th><th>è½¬æ¢ç»“æœ</th></tr></thead><tbody>
<tr><td>Undefined</td><td>NaN</td></tr>
<tr><td>null</td><td>+0</td></tr>
<tr><td>Boolean</td><td>true è¿”å› 1ï¼›false è¿”å› +0</td></tr>
<tr><td>Number</td><td>ç›´æ¥è¿”å›ä¸è½¬æ¢</td></tr>
<tr><td>String</td><td>è¿”å› StringToNumber çš„ç»“æœ</td></tr>
<tr><td>Symbol</td><td>æŠ›å‡º TypeError é”™è¯¯</td></tr>
<tr><td>BigInt</td><td>æŠ›å‡º TypeError é”™è¯¯</td></tr>
<tr><td>Object</td><td>1. è®© primValue ç­‰äº ToPrimitive(argument, number) çš„è¿”å›å€¼ 2. è¿”å› ToNumber(primValue)</td></tr>
</tbody></table>
</div>
<h2 id="éç›¸ç­‰è¿ç®—ç¬¦"><a class="header" href="#éç›¸ç­‰è¿ç®—ç¬¦">éç›¸ç­‰è¿ç®—ç¬¦</a></h2>
<p>éç›¸ç­‰è¿ç®—ç¬¦éƒ½è°ƒç”¨äº† <code>IsLessThan ( x, y, LeftFirst )</code></p>
<pre><code class="language-js">// IsLessThan ( x, y, LeftFirst )

1. If the LeftFirst flag is true, then
    a. Let px be ? ToPrimitive(x, number).
    b. Let py be ? ToPrimitive(y, number).
2. Else,
    a. NOTE: The order of evaluation needs to be reversed to preserve left to right evaluation.
    b. Let py be ? ToPrimitive(y, number).
    c. Let px be ? ToPrimitive(x, number).
3. If Type(px) is String and Type(py) is String, then
    a. If IsStringPrefix(py, px) is true, return false.
    b. If IsStringPrefix(px, py) is true, return true.
    c. Let k be the smallest non-negative integer such that the code unit at index k within px is different from the code unit at index k within py. (There must be such a k, for neither String is a prefix of the other.)
    d. Let m be the integer that is the numeric value of the code unit at index k within px.
    e. Let n be the integer that is the numeric value of the code unit at index k within py.
    f. If m &lt; n, return true. Otherwise, return false.
4. Else,
    a. If Type(px) is BigInt and Type(py) is String, then
        i. Let ny be ! StringToBigInt(py).
        ii. If ny is NaN, return undefined.
        iii. Return BigInt::lessThan(px, ny).
    b. If Type(px) is String and Type(py) is BigInt, then
        i. Let nx be ! StringToBigInt(px).
        ii. If nx is NaN, return undefined.
        iii. Return BigInt::lessThan(nx, py).
    c. NOTE: Because px and py are primitive values, evaluation order is not important.
    d. Let nx be ? ToNumeric(px).
    e. Let ny be ? ToNumeric(py).
    f. If Type(nx) is the same as Type(ny), return Type(nx)::lessThan(nx, ny).
    g. Assert: Type(nx) is BigInt and Type(ny) is Number, or Type(nx) is Number and Type(ny) is BigInt.
    h. If nx or ny is NaN, return undefined.
    i. If nx is -âˆğ”½ or ny is +âˆğ”½, return true.
    j. If nx is +âˆğ”½ or ny is -âˆğ”½, return false.
    k. If â„(nx) &lt; â„(ny), return true; otherwise return false.
</code></pre>
<p>ä¸»è¦æ­¥éª¤å°±æ˜¯ï¼š</p>
<ol>
<li>è°ƒç”¨ ToPrimitive å°†å·¦å³æ“ä½œæ•°ä¸­éåŸå§‹ç±»å‹çš„è½¬æ¢æˆåŸå§‹ç±»å‹</li>
<li>å¦‚æœå·¦å³æ“ä½œæ•°éƒ½æ˜¯ Stringï¼Œå°±æŒ‰ç…§å­—å…¸é¡ºåºæ¯”è¾ƒ</li>
<li>å¦‚æœå·¦å³æ“ä½œæ•°ä¸€ä¸ªæ˜¯ BigInt ä¸€ä¸ªæ˜¯ Stringï¼Œå°±å°† String è½¬æ¢æˆ BigInt ç„¶åæ¯”è¾ƒ</li>
<li>å…¶ä»–æƒ…å†µï¼Œå°†ä¸¤ä¸ªæ“ä½œæ•°éƒ½è½¬æ¢æˆ Number æ¯”è¾ƒ</li>
</ol>
<h2 id="éä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦"><a class="header" href="#éä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦">éä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦</a></h2>
<p>éä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦è°ƒç”¨äº† <code>IsLooselyEqual ( x, y )</code></p>
<pre><code class="language-js">// IsLooselyEqual ( x, y )

1. If Type(x) is the same as Type(y), then
    a. Return IsStrictlyEqual(x, y).
2. If x is null and y is undefined, return true.
3. If x is undefined and y is null, return true.
4. NOTE: This step is replaced in section B.3.6.2.
5. If Type(x) is Number and Type(y) is String, return IsLooselyEqual(x, ! ToNumber(y)).
6. If Type(x) is String and Type(y) is Number, return IsLooselyEqual(! ToNumber(x), y).
7. If Type(x) is BigInt and Type(y) is String, then
    a. Let n be ! StringToBigInt(y).
    b. If n is NaN, return false.
    c. Return IsLooselyEqual(x, n).
8. If Type(x) is String and Type(y) is BigInt, return IsLooselyEqual(y, x).
9. If Type(x) is Boolean, return IsLooselyEqual(! ToNumber(x), y).
10. If Type(y) is Boolean, return IsLooselyEqual(x, ! ToNumber(y)).
11. If Type(x) is either String, Number, BigInt, or Symbol and Type(y) is Object, return IsLooselyEqual(x, ? ToPrimitive(y)).
12. If Type(x) is Object and Type(y) is either String, Number, BigInt, or Symbol, return IsLooselyEqual(? ToPrimitive(x), y).
13. If Type(x) is BigInt and Type(y) is Number, or if Type(x) is Number and Type(y) is BigInt, then
    a. If x or y are any of NaN, +âˆğ”½, or -âˆğ”½, return false.
    b. If â„(x) = â„(y), return true; otherwise return false.
14. Return false.
</code></pre>
<p>ä¸»è¦æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>å¦‚æœ x å’Œ y ç±»å‹ä¸€æ ·ï¼Œè¿”å› IsStrictlyEqual(x, y) çš„æ¯”è¾ƒç»“æœï¼ˆå…¶å®å°±å’Œä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ä¸€æ ·ï¼‰</li>
<li>x å’Œ y å¦‚æœæ˜¯ null æˆ– undefinedï¼Œç›´æ¥è¿”å› true</li>
<li>x å’Œ y ä¸­æœ‰å¯¹è±¡ç±»å‹å­˜åœ¨ï¼Œå°±è°ƒç”¨ toPrimitive è½¬æ¢æˆåŸå§‹ç±»å‹ç„¶åå†æ¯”è¾ƒ</li>
<li>x å’Œ y éƒ½æ˜¯åŸå§‹ç±»å‹ï¼Œéƒ½è½¬æ¢æˆæ•°å­—æ¯”è¾ƒ</li>
<li>x å’Œ y æ˜¯ BigInt å’Œ String ï¼ŒæŠŠ String è½¬æ¢æˆ BigInt ç„¶åå†æ¯”è¾ƒ</li>
</ol>
<h2 id="ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦"><a class="header" href="#ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦">ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦</a></h2>
<p>ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦è°ƒç”¨äº† <code> IsStrictlyEqual ( x, y )</code></p>
<pre><code class="language-js">// IsStrictlyEqual ( x, y )

1. If Type(x) is different from Type(y), return false.
2. If Type(x) is Number or BigInt, then
    a. Return ! Type(x)::equal(x, y).
3. Return ! SameValueNonNumeric(x, y).
</code></pre>
<ol>
<li>å¦‚æœ x å’Œ y ç±»å‹ä¸ä¸€æ ·ï¼Œè¿”å› false</li>
<li>å¦‚æœæ˜¯ Number æˆ–è€… BigInt ç±»å‹ï¼Œè°ƒç”¨ equal(x, y)</li>
<li>å¦åˆ™è°ƒç”¨ SameValueNonNumeric(x, y)</li>
</ol>
<p><code>SameValueNonNumeric ( x, y )</code></p>
<pre><code class="language-js">// SameValueNonNumeric ( x, y )

1. Assert: Type(x) is not Number or BigInt.
2. Assert: Type(x) is the same as Type(y).
3. If Type(x) is Undefined, return true.
4. If Type(x) is Null, return true.
5. If Type(x) is String, then
    a. If x and y are exactly the same sequence of code units (same length and same code units at corresponding indices), return true; otherwise, return false.
6. If Type(x) is Boolean, then
    a. If x and y are both true or both false, return true; otherwise, return false.
7. If Type(x) is Symbol, then
    a. If x and y are both the same Symbol value, return true; otherwise, return false.
8. If x and y are the same Object value, return true. Otherwise, return false.
</code></pre>
<ol>
<li>x å’Œ y ç±»å‹ç›¸ç­‰ï¼Œä½†æ˜¯ä¸æ˜¯ Number æˆ– BigInt</li>
<li>x æ˜¯ Undefined æˆ– nullï¼Œç›´æ¥è¿”å› true</li>
<li>å­—ç¬¦ä¸²ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦æ¯”è¾ƒ</li>
<li>å¸ƒå°”å€¼éƒ½æ˜¯ true æˆ– éƒ½æ˜¯ false è¿”å› trueï¼Œå¦åˆ™è¿”å› false</li>
<li>Symbol å¦‚æœæ˜¯åŒä¸€ä¸ª Symbol å€¼ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› false</li>
<li>å¦‚æœæ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› false</li>
</ol>
<h2 id="æ€»ç»“"><a class="header" href="#æ€»ç»“">æ€»ç»“</a></h2>
<h3 id="åŸºç¡€è¿ç®—ç¬¦åŠ å‡ä¹˜é™¤æŒ‡æ•°ä½è¿ç®—äºŒè¿›åˆ¶å·¦ç§»å³ç§»"><a class="header" href="#åŸºç¡€è¿ç®—ç¬¦åŠ å‡ä¹˜é™¤æŒ‡æ•°ä½è¿ç®—äºŒè¿›åˆ¶å·¦ç§»å³ç§»">åŸºç¡€è¿ç®—ç¬¦ï¼ˆåŠ å‡ä¹˜é™¤ï¼ŒæŒ‡æ•°ï¼Œä½è¿ç®—ï¼ŒäºŒè¿›åˆ¶å·¦ç§»å³ç§»ï¼‰</a></h3>
<ol>
<li>è¿ç®—ç¬¦æ˜¯åŠ å· + çš„æƒ…å†µå•ç‹¬å¤„ç†</li>
<li>è°ƒç”¨ ToPrimitive å°†å·¦å³æ“ä½œæ•°å˜æˆåŸå§‹ç±»å‹
1. æ­¤å¤„å¼€å§‹ ToPrimitive æ“ä½œã€‚å¦‚æœå‚æ•°æ˜¯å¯¹è±¡ç±»å‹ï¼Œè·å–è¿™ä¸ªç±»å‹çš„ toPrimitive æ–¹æ³•
2. å¦‚æœç±»å‹å¯¹åº”çš„ toPrimitive æ–¹æ³•å­˜åœ¨ï¼Œåˆ™è®¾ç½® hint ä¸º defaultï¼ˆæ²¡æœ‰æœŸæœ›ï¼‰ï¼Œstringï¼ˆæœŸæœ›å­—ç¬¦ä¸²ï¼‰ï¼Œnumberï¼ˆæœŸæœ›æ•°å­—ï¼‰ç„¶åè¿”å› toPrimitive æ–¹æ³•è°ƒç”¨ç»“æœä½œä¸ºç»“æœ
3. å¦‚æœ toPrimitive æ–¹æ³•ä¸å­˜åœ¨ï¼Œåˆ™æŒ‰ç…§æœŸæœ›ç±»å‹å…ˆåè°ƒç”¨ valueOf toString ï¼ˆæœŸæœ› numberï¼‰ï¼ŒtoString valueOfï¼ˆæœŸæœ›å­—ç¬¦ä¸²ï¼‰ï¼Œç„¶åè¿”å›ç»“æœ</li>
<li>åŠ å· + çš„æƒ…å†µ toPrimitive è¿”å›åï¼Œå¦‚æœå·¦å³æ“ä½œæ•°ä¸­æœ‰ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™ä¸¤ä¸ªéƒ½è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åè¿”å›å­—ç¬¦ä¸²æ‹¼æ¥çš„ç»“æœ</li>
<li>å¦åˆ™ï¼Œå…¶ä»–æƒ…å†µéƒ½æ˜¯æ•°å­—è®¡ç®—çš„æƒ…å†µï¼Œä¸¤ä¸ªæ“ä½œæ•°éƒ½è½¬æ¢æˆæ•°å­—ç„¶åè®¡ç®—</li>
</ol>
<h3 id="éç›¸ç­‰è¿ç®—ç¬¦å¤§äºå°äºå¤§äºç­‰äºå°äºç­‰äº"><a class="header" href="#éç›¸ç­‰è¿ç®—ç¬¦å¤§äºå°äºå¤§äºç­‰äºå°äºç­‰äº">éç›¸ç­‰è¿ç®—ç¬¦ï¼ˆå¤§äºï¼Œå°äºï¼Œå¤§äºç­‰äºï¼Œå°äºç­‰äºï¼‰</a></h3>
<ol>
<li>è°ƒç”¨ ToPrimitive å°†å·¦å³æ“ä½œæ•°ä¸­éåŸå§‹ç±»å‹çš„è½¬æ¢æˆåŸå§‹ç±»å‹</li>
<li>å¦‚æœå·¦å³æ“ä½œæ•°éƒ½æ˜¯ Stringï¼Œå°±æŒ‰ç…§å­—å…¸é¡ºåºæ¯”è¾ƒ</li>
<li>å¦‚æœå·¦å³æ“ä½œæ•°ä¸€ä¸ªæ˜¯ BigInt ä¸€ä¸ªæ˜¯ Stringï¼Œå°±å°† String è½¬æ¢æˆ BigInt ç„¶åæ¯”è¾ƒ</li>
<li>å…¶ä»–æƒ…å†µï¼Œå°†ä¸¤ä¸ªæ“ä½œæ•°éƒ½è½¬æ¢æˆ Number æ¯”è¾ƒ</li>
</ol>
<h3 id="ä¸ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦"><a class="header" href="#ä¸ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦">ä¸ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦</a></h3>
<ol>
<li>å¦‚æœ x å’Œ y ç±»å‹ä¸€æ ·ï¼Œè¿”å› IsStrictlyEqual(x, y) çš„æ¯”è¾ƒç»“æœï¼ˆå…¶å®å°±å’Œä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ä¸€æ ·ï¼‰</li>
<li>x å’Œ y å¦‚æœæ˜¯ null æˆ– undefinedï¼Œç›´æ¥è¿”å› true</li>
<li>x å’Œ y ä¸­æœ‰å¯¹è±¡ç±»å‹å­˜åœ¨ï¼Œå°±è°ƒç”¨ toPrimitive è½¬æ¢æˆåŸå§‹ç±»å‹ç„¶åå†æ¯”è¾ƒ</li>
<li>x å’Œ y éƒ½æ˜¯åŸå§‹ç±»å‹ï¼Œä¸”ç±»å‹ä¸ä¸€æ ·ï¼Œé‚£å°±éƒ½è½¬æ¢æˆæ•°å­—æ¯”è¾ƒ</li>
<li>x å’Œ y æ˜¯ BigInt å’Œ String ï¼ŒæŠŠ String è½¬æ¢æˆ BigInt ç„¶åå†æ¯”è¾ƒ</li>
</ol>
<h3 id="ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦-1"><a class="header" href="#ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦-1">ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦</a></h3>
<ol>
<li>å¦‚æœ x å’Œ y ç±»å‹ä¸ä¸€æ ·ï¼Œè¿”å› false</li>
<li>å¦‚æœæ˜¯ Number æˆ–è€… BigInt ç±»å‹ï¼Œè°ƒç”¨ equal(x, y)</li>
<li>å¦åˆ™è°ƒç”¨ SameValueNonNumeric(x, y)</li>
</ol>
<h3 id="ä¸€å…ƒæ“ä½œç¬¦-"><a class="header" href="#ä¸€å…ƒæ“ä½œç¬¦-">ä¸€å…ƒæ“ä½œç¬¦ +</a></h3>
<ol>
<li>è°ƒç”¨ ToNumber</li>
<li>å¦‚æœå‚æ•°æ˜¯å¼•ç”¨ç±»å‹å¯¹è±¡ï¼Œè°ƒç”¨ ToPrimitive(argument, number) åå†è°ƒç”¨ ToNumber</li>
</ol>
<h3 id="ä¸€å…ƒæ“ä½œç¬¦--1"><a class="header" href="#ä¸€å…ƒæ“ä½œç¬¦--1">ä¸€å…ƒæ“ä½œç¬¦ !</a></h3>
<ol>
<li>å…ˆè°ƒç”¨ ToBoolean å°†æ“ä½œæ•°è½¬æ¢æˆå¸ƒå°”å€¼ï¼ˆnull undefined 0 NaN false '' è¿”å› falseï¼Œå…¶ä»–ä¸€å¾‹ trueï¼‰</li>
<li>ç„¶åå¯¹å¸ƒå°”å€¼å–åï¼Œè¿”å›ç»“æœ</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../js/conversion.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../js/strict_mode.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../js/conversion.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../js/strict_mode.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>


    </div>
    </body>
</html>
